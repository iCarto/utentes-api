<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>Gestão de Utentes</title>
  {% assets
  "lib/bootstrap/css/bootstrap.css",
  "lib/font-awesome/css/font-awesome.css",
  "css/exploracao-new.css",
  "css/base.css",
  output="dist/exploracao-new.css", filters="cssrewrite,cssutils" %}
        <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}">
  {% endassets %}
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

  <div class="container-fluid">

    <menu class="row">
    </menu>

    <div class="row">

      <div class="col-xs-offset-2 col-xs-8">

        <div class="row text-center">
          <h1 class="col-xs-12">Nova Exploracão
            <button id="save-button" type="button" class="btn btn-primary pull-right">Criar</button>
          </h1>
        </div>

        <div class="row">
          <form  class="col-xs-12">

            <div id="wizard-exp" >

              <ul class="hide">
                <li><a href="#utente" data-toggle="tab">Utente</a></li>
                <li><a href="#info" data-toggle="tab">Info</a></li>
                <li><a href="#licencia" data-toggle="tab">Licencia</a></li>
              </ul>

              <div class="tab-content">
                <div class="tab-pane" id="utente">
                  <div class="row">
                    <h3 class="col-xs-1"><i class="fa fa-user"></i></h3>
                    <h3 class="col-xs-11">Utente</h3>
                  </div>

                  <div class="row">
                    <div class="form-group col-xs-offset-1 col-xs-11">
                      <select id="select-utente" class="form-control">
                        <option selected value="novo"> - Novo utente - </option>
                      </select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-xs-offset-1 col-xs-6">
                      <div class="panel panel-info">
                        <div class="panel-heading">
                          <h3 class="panel-title"><strong>Dados gerais</strong></h3>
                        </div>
                        <div class="panel-body">
                          <div class="row">
                            <div class="form-group col-xs-6">
                              <label for="nome">Nome do utente</label>
                              <input type="text" class="form-control widget widget-utente" id="nome" required>
                            </div>
                            <div class="form-group col-xs-6">
                              <label for="uten_tipo">Tipo de utente</label>
                              <select class="form-control widget widget-utente" id="uten_tipo"></select>
                            </div>

                          </div>
                          <div class="row">
                            <div class="form-group col-xs-6">
                              <label for="nuit">NUIT</label>
                              <input type="text" class="form-control widget widget-utente" id="nuit">
                            </div>
                            <div class="form-group col-xs-6">
                              <label for="uten_tipo">Nome do Gerente/Presidente</label>
                              <input type="text" class="form-control widget widget-utente" id="uten_gere">
                            </div>
                          </div>
                          <div class="row">
                            <div class="form-group col-xs-6">
                              <label for="uten_tipo">Nro Membros</label>
                              <input type="text" class="form-control widget widget-number widget-utente" id="uten_memb" pattern="[0-9]{1,8}">
                            </div>
                            <div class="form-group col-xs-6">
                              <label for="uten_tipo">Nro Mulheres</label>
                              <input type="text" class="form-control widget widget-number widget-utente" id="uten_mulh" pattern="[0-9]{1,8}">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-5">
                      <div class="panel panel-info">
                        <div class="panel-heading">
                          <h3 class="panel-title"><strong>Dados de contacto</strong></h3>
                        </div>
                        <div class="panel-body">
                          <div class="row">
                            <div class="form-group col-xs-12">
                                <label for="uten_tipo">Pessoa de contacto</label>
                                <input type="text" class="form-control widget widget-utente" id="contacto">
                            </div>
                          </div>
                          <div class="row">
                            <div class="form-group col-xs-12">
                                <label for="uten_tipo">Email</label>
                                <input type="text" class="form-control widget widget-utente" id="email">
                            </div>
                          </div>
                          <div class="row">
                            <div class="form-group col-xs-12">
                                <label for="uten_tipo">Telefone</label>
                                <input type="text" class="form-control widget widget-utente" id="telefone">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>

                <div class="row">
                  <div class="col-xs-offset-1 col-xs-6">
                    <div class="panel panel-info">
                      <div class="panel-heading">
                        <h3 class="panel-title"><strong>Localização</strong></h3>
                      </div>
                      <div class="panel-body" id="panel-body-outros-localizacao">
                        <div class="row">
                          <div class="col-xs-12">
                            <div class="form-group">
                              <label for="loc_provin">Província</label>
                              <select class="form-control widget widget-utente" id="loc_provin"></select>
                            </div>
                          </div>
                          <div class="col-xs-12">
                            <div class="form-group">
                              <label for="loc_distri">Distrito</label>
                              <select class="form-control widget widget-utente" id="loc_distri"></select>
                            </div>
                          </div>
                        </div>
                        <div class="row">

                        </div>
                        <div class="row">
                          <div class="col-xs-12">
                            <div class="form-group">
                              <label for="loc_posto">Posto administrativo</label>
                              <select class="form-control widget widget-utente" id="loc_posto"></select>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xs-12">
                            <div class="form-group">
                              <label for="loc_nucleo">Bairro</label>
                              <input type="text" class="form-control widget widget-utente" id="loc_nucleo">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-xs-5">
                    <div class="panel panel-info">
                      <div class="panel-heading">
                        <h3 class="panel-title"><strong>Outros</strong></h3>
                      </div>
                      <div class="panel-body" id="panel-body-outros">
                        <div class="row">
                          <div class="col-xs-6">
                            <div class="form-group">
                              <label for="reg_comerc">Nro registo comercial</label>
                              <input type="text" class="form-control widget widget-utente" id="reg_comerc">
                            </div>
                          </div>
                          <div class="col-xs-6">
                            <div class="form-group">
                              <label for="reg_zona">Registado em</label>
                              <input type="text" class="form-control widget widget-utente" id="reg_zona">
                            </div>
                          </div>
                        </div>
                        <div class="row">

                        </div>
                        <div class="row">
                          <div class="col-xs-12">
                            <div class="form-group">
                              <label for="observacio">Observaçôes</label>
                              <textarea class="form-control widget widget-utente" id="observacio" rows="8"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                </div>

                <div class="tab-pane" id="info">
                  <div class="row">
                    <h3 class="col-xs-1"><i class="fa fa-info"></i></h3>
                    <h3 class="col-xs-11">Informação</h3>
                  </div>

                  <div class="row">
                    <div class="col-xs-offset-1 col-xs-11">
                      <div id="form-exp_id-warning-message" class="alert alert-warning alert-dismissible" style="display:none;">
                        <strong>Atenção!</strong> Existe outro requerimento com o mesmo <strong>Nro de exploração</strong>.
                      </div>
                      <div id="form-exp_name-warning-message" class="alert alert-warning alert-dismissible" style="display:none;">
                        <strong>Atenção!</strong> Existe outro requerimento com o mesmo <strong>Nome de exploração</strong>.
                      </div>
                      <div class="panel panel-default">
                        <div class="panel-body">
                          <div class="col-xs-5">
                            <div class="row">
                              <div class="form-group">
                                <label for="exp_name">Nro de exploração</label>
                                <input type="text" class="form-control widget" id="exp_id" required>
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group">
                                <label for="exp_name">Nome da exploração</label>
                                <input type="text" class="form-control widget" id="exp_name" required>
                              </div>
                            </div>
                            <div class="row">
                              <div id="actividade-select" class="form-group">
                                <label for="actividade">Tipo de actividade</label>
                                <select id="actividade" class="form-control"></select>
                              </div>
                            </div>
                          </div>
                          <div class="col-xs-offset-1 col-xs-6">
                            <div class="row">
                              <div class="form-group">
                                <label for="d_soli">Data de solicitação</label>
                                <input type="text" class="form-control widget-date" id="d_soli" placeholder="dd/mm/yyyy" pattern="^\d{1,2}[./-]\d{1,2}[./-]\d{4}$">
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group">
                                <label for="observacio">Observações sobre linha de água e localizaçao</label>
                                <textarea class="form-control widget" id="observacio" rows="5"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <h3 class="col-xs-1"><i class="fa fa-map-marker"></i></h3>
                    <h3 class="col-xs-11">Localização</h3>
                  </div>

                  <div class="row">
                    <div class="col-xs-offset-1 col-xs-5">
                      <div class="panel panel-default">
                        <div class="panel-body" id="panel-body-loc-admin">
                          <div class="row">
                            <div class="col-xs-6">
                              <div class="form-group">
                                <label for="loc_provin">Província</label>
                                <select class="form-control widget" id="loc_provin"></select>
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div class="form-group">
                                  <label for="loc_distri">Distrito</label>
                                  <select class="form-control widget" id="loc_distri"></select>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xs-6">
                              <div class="form-group">
                                  <label for="loc_posto">Posto administrativo</label>
                                  <select class="form-control widget" id="loc_posto"></select>
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div class="form-group">
                                  <label for="loc_nucleo">Bairro</label>
                                  <input type="text" class="form-control widget" id="loc_nucleo">
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xs-12">
                              <div class="form-group">
                                  <label for="loc_endere">Endereço</label>
                                  <textarea class="form-control widget" id="loc_endere" rows="4"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xs-6">
                      <div class="panel panel-default">
                        <div class="panel-body" id="panel-body-loc-hidro">
                          <div class="row">
                              <div class="col-xs-12">
                                <div class="form-group col-xs-12">
                                  <label for="loc_unidad">Unidade</label>
                                  <select class="form-control widget" id="loc_unidad"></select>
                                </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-xs-12">
                                <div class="form-group col-xs-12">
                                  <label for="loc_bacia">Bacia</label>
                                  <select class="form-control widget" id="loc_bacia"></select>
                                </div>
                              </div>
                          </div>
                          <div class="row">
                            <div class="col-xs-12">
                              <div class="form-group col-xs-12">
                                <label for="loc_subaci">Sub-bacia</label>
                                <select class="form-control widget" id="loc_subaci"></select>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xs-12">
                              <div class="form-group col-xs-12">
                                <label for="loc_rio">Rio</label>
                                <input type="text" class="form-control widget" id="loc_rio">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                <div class="tab-pane" id="licencia">

                  <div class="row">
                    <h3 class="col-xs-1"><i class="fa fa-tint"></i></h3>
                    <h3 class="col-xs-11">Licenças e fontes</h3>
                  </div>

                  <div class="row">
                    <!-- <div class="col-xs-offset-1 col-xs-11"> -->
                      <div class="col-xs-offset-1 col-xs-5">
                        <div class="panel panel-info panel-disabled" id="licencia-subterranea">
                          <div class="panel-heading">
                            <h3 class="panel-title"><strong>Subterrânea</strong></h3>
                          </div>
                          <div class="panel-body">
                            <fieldset>
                              <input type="hidden" class="widget" id="tipo_agua">
                              <input type="hidden" class="widget" id="lic_nro">
                              <div class="form-group">
                                <label>
                                  <input type="checkbox"/>
                                  Licença activa?
                                </label>
                              </div>
                              <div class="form-group">
                                <label for="estado" class="text-muted set-enability">Estado </label> <i class="help fa fa-question-circle" style="cursor:pointer"></i>
                                <select class="form-control widget" id="estado" disabled>
                                </select>
                              </div>
                              <div class="form-group">
                                <label for="c_soli_int" class="text-muted set-enability">Consumo solicitado intermédio <i class="units">(m<sup>3</sup>/mês)</i></label>
                                <input type="text" class="form-control widget-number" id="c_soli_int" pattern="[0-9]{1,8}([,][0-9]{1,2})?" disabled>
                              </div>
                              <div class="form-group">
                                <button type="button" class="btn btn-default pull-right" id="fonte-subterranea" disabled>
                                  Nova fonte
                                </button>
                              </div>
                            </fieldset>
                          </div>
                        </div>
                      </div>

                      <div class="col-xs-offset-1 col-xs-5">
                        <div class="panel panel-info panel-disabled" id="licencia-superficial">
                          <div class="panel-heading">
                            <h3 class="panel-title"><strong>Superficial</strong></h3>
                          </div>
                          <div class="panel-body">
                            <fieldset>
                              <input type="hidden" class="widget" id="tipo_agua">
                              <input type="hidden" class="widget" id="lic_nro">
                              <div class="form-group">
                                <label>
                                  <input type="checkbox"/>
                                  Licença activa?
                                </label>
                              </div>
                              <div class="form-group">
                                <label for="estado" class="text-muted set-enability">Estado</label> <i class="help fa fa-question-circle" style="cursor:pointer"></i>
                                <select class="form-control widget" id="estado" disabled>
                                </select>
                              </div>
                              <div class="form-group">
                                <label for="c_soli_int" class="text-muted set-enability">Consumo solicitado intermédio <i class="units">(m<sup>3</sup>/mês)</i></label>
                                <input type="text" class="form-control widget-number" id="c_soli_int" pattern="[0-9]{1,8}([,][0-9]{1,2})?" disabled>
                              </div>
                              <div class="form-group">
                                <button type="button" class="btn btn-default pull-right" id="fonte-superficial" disabled>
                                  Nova fonte
                                </button>
                              </div>
                            </fieldset>
                          </div>
                        </div>
                      </div>

                        <div class=" col-xs-offset-1 col-xs-11">
                          <table class="table table-bordered col-xs-11" id="fontes">
                            <thead>
                              <tr>
                                <th width="23%">Tipo de água</th>
                                <th width="23%">Tipo de fonte</th>
                                <th width="23%">Consumo solicitado <i class="units">(m<sup>3</sup>/mês)</i></th>
                                <th width="27%">Observaçôes</th>
                                <th></th>
                              </tr>
                            </thead>
                            <tbody>
                            </tbody>
                          </table>
                        </div>
                  </div>

                </div>

              </div>

              <div class="row">
                <div class=" col-xs-offset-1 col-xs-11">
                    <ul class="pager wizard">
                      <li class="previous"><a href="#">Anterior</a></li>
                      <li class="next"><a href="#">Seguinte</a></li>
                    </ul>
                </div>
              </div>

            </div>

          </div>

        </form>
      </div>

    </div>
  </div>
</div>

<!-- modals -->

<script type="text/template" id="fonte-subterranea-modal">
  <!-- modal fonte subterránea -->
  <div class="modal fade" id="fonteSubModal" tabindex="-1" role="dialog" aria-labelledby="fonteSubModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Pechar"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="fonteSubModalLabel">Fonte subterrânea</h4>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <input type="hidden" id="tipo_agua" value="Subterrânea" class="col-xs-12 widget"/>
            </div>
            <div class="row">
              <div class="form-group col-xs-offset-1 col-xs-5">
                <label for="tipo_fonte">Tipo de fonte</label>
                <select class="form-control widget" id="tipo_fonte"></select>
              </div>
              <div class="form-group col-xs-5">
                <label for="c_requerid">Consumo solicitado <i class="units">(m<sup>3</sup>/mês)</i></label>
                <input type="text" class="form-control widget-number" id="c_soli" pattern="[0-9]{1,8}([,][0-9]{1,2})?">
              </div>
            </div>
            <div class="row">
              <div class="form-group col-xs-offset-1 col-xs-10">
                <label for="observacio">Observaçôes</label>
                <textarea class="form-control widget" id="observacio" rows="4"></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-primary" id="okButton">Aceitar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/template" id="fonte-superficial-modal">
  <!-- modal fonte superficial -->
  <div class="modal fade" id="fonteSupModal" tabindex="-1" role="dialog" aria-labelledby="fonteSupModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Pechar"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="fonteSupModalLabel">Fonte superficial</h4>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <input type="hidden" id="tipo_agua" value="Superficial" class="col-xs-1 widget"/>
            </div>
            <div class="row">
              <div class="form-group col-xs-offset-1 col-xs-5">
                <label for="tipo_fonte">Tipo de fonte</label>
                <select class="form-control widget" id="tipo_fonte"></select>
              </div>
              <div class="form-group col-xs-5">
                <label for="c_requerid">Consumo solicitado <i class="units">(m<sup>3</sup>/mês)</i></label>
                <input type="text" class="form-control widget-number" id="c_soli" pattern="[0-9]{1,8}([,][0-9]{1,2})?">
              </div>
            </div>
            <div class="row">
              <div class="form-group col-xs-offset-1 col-xs-10">
                <label for="observacio">Observaçôes</label>
                <textarea class="form-control widget" id="observacio" rows="4"></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-primary" id="okButton">Aceitar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</script>

{% include 'set-ara-variable.jinja2' %}

<!-- javascript -->
{% assets
"node-interaction.js",

"lib/jquery/jquery-1.12.0.min.js",
"lib/bootstrap/js/bootstrap.min.js",
"lib/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js",
"lib/underscore/underscore-min.js",
"lib/backbone/backbone.js",
"lib/bootbox.min.js",
"lib/moment-2.11.2/moment-with-locales.js",
"lib/numeral-js-1.5.3/min/languages.min.js",
"lib/numeral-js-1.5.3/min/numeral.min.js",

"tenant-custom-code.js",

"lib/formatter/formatter.js",

"lib/schema-validator/validator.js",

"lib/backbone-geojson/Feature.js",
"lib/backbone-geojson/FeatureCollection.js",

"lib/backbone-uilib/models/Domain.js",
"lib/backbone-uilib/models/DomainCollection.js",
"lib/backbone-uilib/views/OptionView.js",
"lib/backbone-uilib/views/SelectView.js",
"lib/backbone-uilib/views/WidgetsView.js",
"lib/backbone-uilib/views/BaseView.js",
"lib/backbone-uilib/views/ModalView.js",
"utils/accentNeutralise.js",
"views/common/NavBarView.js",
"views/common/ConfigModalView.js",
"Config.js",

"models/Fonte.js",
"models/FonteSchema.js",
"models/FonteCollection.js",
"models/TanquePiscicola.js",
"models/TanquePiscicolaCollection.js",
"models/Licencia.js",
"models/LicenciaSchema.js",
"models/LicenciaCollection.js",
"models/Utente.js",
"models/UtenteSchema.js",
"models/UtenteCollection.js",
"models/ActividadeRes.js",
"models/ResCollection.js",
"models/ActividadeNull.js",
"models/ActividadeCultivo.js",
"models/CultivoCollection.js",
"models/ActividadeNull.js",
"models/ActividadeAbastecimento.js",
"models/ActividadeEnergia.js",
"models/ActividadeIndustria.js",
"models/ActividadePecuaria.js",
"models/ActividadePiscicultura.js",
"models/CultivoCollection.js",
"models/ActividadeRegadia.js",
"models/ActividadeSaneamento.js",
"models/ActividadesSchema.js",
"models/Estado.js",
"models/EstadoCollection.js",
"models/Exploracao.js",
"models/ExploracaoSchema.js",
"models/ExploracaoCollection.js",
"models/Expediente.js",

"views/common/ModalTooltipEstadoLicenciaView.js",
"views/common/SelectLocationView.js",
"views/common/SelectBaciaView.js",
"views/common/ButtonSaveView.js",
"views/common/SelectActividadeView.js",
"views/common/SelectUtenteView.js",
"views/common/RowDeleteButtonView.js",
"views/new/RowFonteView.js",
"views/common/TableView.js",
"views/new/LicenseView.js",
"models/Setting.js",

"MyWorkflow.js",
"exploracao-new.js",
output="dist/exploracao-new.js", filters="rjsmin" %}
    <script src="{{ ASSET_URL }}"></script>
{% endassets %}


</body>
</html>

{% extends "base.jinja2" %}
{% block css_assets %}
{% assets
    "css/base.css",
    output="dist/user.css", filters="cssrewrite,cssutils" %}
          <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}">
{% endassets %}
{% endblock css_assets %}

{% block main_block %}
    <span id="userid" style="display: none;">{{request.user.id}}</span>
    <div id="perfil_usuario" class="row">
    <div class="col-xs-offset-4 col-xs-3">
    <div class="col-xs-12">
      <p class="lead">Perfil de utilizador: {{request.user.username}}</p>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-10">
          <div class="row">
            <div class="form-group">
              <label for="username">Utilizador</label>
              <input type="text" class="form-control widget" id="username" required disabled>
            </div>
          </div>
          <div class="row" id="password-view">
          </div>
          <div class="row">
            <div class="form-group">
              <label for="usergroup">Departamento</label>
              <select class="form-control widget" id="usergroup" disabled></select>
            </div>
          </div>
          <div id="unidade-form" class="row hidden">
            <div class="form-group">
              <label for="usergroup">Unidade</label>
              <select class="form-control widget" id="unidade"></select>
              <span id="helpBlock_unidade">&nbsp;</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-10">
          <button type="button" class="btn btn-primary" id="okButton">Gravar</button>
        </div>
      </div>
    </div>
{% endblock main_block %}

{% block js_assets %}
    <!-- javascript -->
    {% assets

    "lib/jquery/jquery-1.12.0.min.js",
    "lib/bootstrap/js/bootstrap.min.js",
    "vendor/bootbox-5.4.0/bootbox.js",
    "vendor/underscore-1.10.2/underscore.js",
    "vendor/backbone-1.4.0/backbone.js",
    "lib/moment-2.11.2/moment-with-locales.js",

    "monkey-patching/index.js",

    "lib/schema-validator/validator.js",
    "lib/formatter/formatter.js",
    "lib/backbone-uilib/models/Domain.js",
    "lib/backbone-uilib/models/DomainCollection.js",
    "lib/backbone-uilib/views/OptionView.js",
    "lib/backbone-uilib/views/SelectView.js",
    "lib/backbone-uilib/views/WidgetsView.js",
    "lib/backbone-uilib/views/PasswordView.js",
    "views/common/ConfigModalView.js",
    "Config.js",
    "models/User.js",
    "models/Setting.js",
    "MyWorkflow.js",
    "user.js",

    output="dist/user.js", filters="strict_mode, rjsmin" %}
        <script src="{{ ASSET_URL }}"></script>
    {% endassets %}

{% endblock js_assets %}
